<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8" />-->
<!--    <title>NOVA</title>-->
<!--    <link rel="stylesheet" href="/css/style.css" />-->
<!--    <style>-->
<!--        .product-detail {-->
<!--            max-width: 1200px;-->
<!--            margin: 50px auto;-->
<!--            padding: 30px;-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 10px;-->
<!--            display: flex;-->
<!--            flex-wrap: wrap;-->
<!--            gap: 40px;-->
<!--            justify-content: center;-->
<!--          }-->

<!--          .product-detail img {-->
<!--            width: 400px;-->
<!--            max-width: 100%;-->
<!--            border-radius: 8px;-->
<!--            object-fit: cover;-->
<!--          }-->

<!--          .product-info {-->
<!--            flex: 1;-->
<!--            min-width: 300px;-->
<!--            max-width: 600px;-->
<!--            display: flex;-->
<!--            flex-direction: column;-->
<!--            gap: 15px;-->
<!--          }-->

<!--          .product-info h1 {-->
<!--            font-size: 28px;-->
<!--            margin-bottom: 10px;-->
<!--          }-->

<!--          .product-info .price {-->
<!--            font-size: 22px;-->
<!--            color: black;-->
<!--            font-weight: bold;-->
<!--          }-->

<!--          .product-info .desc {-->
<!--            font-size: 16px;-->
<!--            color: #555;-->
<!--            line-height: 1.5;-->
<!--          }-->

<!--          .option-select label {-->
<!--            font-weight: bold;-->
<!--            display: block;-->
<!--            margin: 10px 0 5px;-->
<!--          }-->

<!--          .option-select select {-->
<!--            padding: 8px;-->
<!--            width: 100%;-->
<!--            border: 1px solid #ccc;-->
<!--            border-radius: 5px;-->
<!--          }-->

<!--          .total,-->
<!--          .cart-btn {-->
<!--            margin-bottom: 10px;-->
<!--            display: block;-->
<!--          }-->

<!--          .quantity-control {-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            gap: 10px;-->
<!--            margin: 10px 0;-->
<!--          }-->

<!--          .quantity-control button {-->
<!--            width: 30px;-->
<!--            height: 30px;-->
<!--            font-size: 18px;-->
<!--            background-color: #eee;-->
<!--            border: none;-->
<!--            border-radius: 5px;-->
<!--            cursor: pointer;-->
<!--          }-->

<!--          .total {-->
<!--            font-weight: bold;-->
<!--            font-size: 18px;-->
<!--            color: #333;-->
<!--            margin: 10px 0;-->
<!--          }-->

<!--          .cart-btn {-->
<!--            background-color: black;-->
<!--            color: #fff;-->
<!--            border: none;-->
<!--            padding: 12px 20px;-->
<!--            border-radius: 5px;-->
<!--            cursor: pointer;-->
<!--            font-size: 16px;-->
<!--          }-->

<!--          .tabs {-->
<!--              position: sticky;-->
<!--              top: 0;-->
<!--              z-index: 999;-->
<!--              background: #fff;-->
<!--              display: flex;-->
<!--              justify-content: center;-->
<!--              border-bottom: 1px solid #ddd;-->
<!--              padding: 10px 0;-->
<!--              margin-bottom: 20px;-->
<!--            }-->

<!--            .tabs a {-->
<!--              padding: 10px 20px;-->
<!--              text-decoration: none;-->
<!--              color: #333;-->
<!--              font-weight: bold;-->
<!--            }-->

<!--            .tabs a:hover {-->
<!--              color: rgb(153, 153, 153);-->
<!--            }-->

<!--            .product-section {-->
<!--              padding: 40px 10%;-->
<!--              scroll-margin-top: 70px;-->
<!--              border-bottom: 1px solid #eee;-->
<!--            }-->

<!--            .product-section:last-of-type {-->
<!--              border-bottom: none;-->
<!--            }-->

<!--            @media (max-width: 768px) {-->
<!--            .product-detail {-->
<!--              flex-direction: column;-->
<!--              align-items: center;-->
<!--            }-->

<!--            .product-info {-->
<!--              max-width: 100%;-->
<!--            }-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--&lt;!&ndash; í—¤ë” &ndash;&gt;-->
<!--<div th:replace="~{common/header :: header}"></div>-->

<!--&lt;!&ndash; ìƒí’ˆ ìƒì„¸ ì¹´ë“œ &ndash;&gt;-->
<!--<div class="product-detail">-->
<!--    <img th:src="${product.imageUrl}" alt="ìƒí’ˆ ì´ë¯¸ì§€" />-->
<!--    <div class="product-info">-->
<!--        <h1 th:text="${product.name}">ìƒí’ˆëª…</h1>-->
<!--        <div class="price" th:text="${#numbers.formatInteger(product.price.intValue(), 3, 'COMMA')} + 'ì›'">ê°€ê²©</div>-->
<!--        <div class="desc">-->
<!--            <p th:text="${product.description}">ìƒí’ˆ ì„¤ëª…</p>-->
<!--        </div>-->
<!--        <div class="option-select">-->
<!--            <label>ìƒ‰ìƒ:-->
<!--                <select id="color">-->
<!--                    <option value="">[í•„ìˆ˜] ì„ íƒ</option>-->
<!--                    <option value="ë¸”ë™">ë¸”ë™</option>-->
<!--                    <option value="í™”ì´íŠ¸">í™”ì´íŠ¸</option>-->
<!--                </select>-->
<!--            </label>-->
<!--        </div>-->
<!--        <div class="option-select">-->
<!--            <label>ì‚¬ì´ì¦ˆ:-->
<!--                <select id="size">-->
<!--                    <option value="">[í•„ìˆ˜] ì„ íƒ</option>-->
<!--                    <option value="M">M</option>-->
<!--                    <option value="L">L</option>-->
<!--                </select>-->
<!--            </label>-->
<!--        </div>-->

<!--        <div class="quantity-control">-->
<!--            <button id="minus">-</button>-->
<!--            <span id="quantity">1</span>-->
<!--            <button id="plus">+</button>-->
<!--        </div>-->

<!--        <div class="total">TOTAL: <span id="totalPrice">0ì›</span></div>-->
<!--        <button id="addToCart" class="cart-btn">ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°</button>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; íƒ­ &ndash;&gt;-->
<!--<div class="tabs">-->
<!--    <a href="#info">ìƒí’ˆ ì •ë³´</a>-->
<!--    <a href="#review">ìƒí’ˆ í›„ê¸°</a>-->
<!--    <a href="#qna">ìƒí’ˆ ë¬¸ì˜</a>-->
<!--    <a href="#delivery">ë°°ì†¡/êµí™˜/í™˜ë¶ˆ</a>-->
<!--</div>-->

<!--&lt;!&ndash; ì½˜í…ì¸  &ndash;&gt;-->
<!--<div id="info" class="product-section">-->
<!--    <h2>ìƒí’ˆ ì •ë³´</h2>-->
<!--    <p th:text="${product.description}">ì—¬ê¸°ì— ìƒì„¸ ìƒí’ˆ ì •ë³´ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>-->
<!--</div>-->
<!--<div id="review" class="product-section">-->
<!--    <h2>ìƒí’ˆ í›„ê¸°</h2>-->
<!--    <p>í›„ê¸°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>-->
<!--</div>-->
<!--<div id="qna" class="product-section">-->
<!--    <h2>ìƒí’ˆ ë¬¸ì˜</h2>-->
<!--    <p>ë¬¸ì˜ ë‚´ìš©ì„ ì—¬ê¸°ì— ì‘ì„±í•˜ê±°ë‚˜ í‘œì‹œí•©ë‹ˆë‹¤.</p>-->
<!--</div>-->
<!--<div id="delivery" class="product-section">-->
<!--    <h2>ë°°ì†¡/êµí™˜/í™˜ë¶ˆ ì•ˆë‚´</h2>-->
<!--    <h4>DELIVERY</h4>-->
<!--    <p>-->
<!--        - ê²°ì œì¼ ì´í›„ 2~3ì¼ ì´ë‚´ ë°œì†¡í•©ë‹ˆë‹¤. (ì£¼ë§, ê³µíœ´ì¼ ì œì™¸) <br>-->
<!--        - ì¼ë¶€ ë„ì„œ/ì‚°ê°„ ì§€ì—­ì—ëŠ” ë°°ì†¡ë¹„ ì¶”ê°€ ë° ë°°ì†¡ ì§€ì—°ì´ ë°œìƒ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.-->
<!--    </p>-->
<!--    <h4>EXCHANGE & REFUND</h4>-->
<!--    <p>-->
<!--        - êµ¬ë§¤ìì˜ ë¶€ì£¼ì˜ë¡œ ì¸í•œ ìƒí’ˆ íŒŒì†ì€ êµí™˜ ë° í™˜ë¶ˆ ë¶ˆê°€í•©ë‹ˆë‹¤.<br>-->
<!--        - ë¼ë²¨ ì œê±° ì‹œ êµí™˜ ë° í™˜ë¶ˆ ë¶ˆê°€í•©ë‹ˆë‹¤. <br>-->
<!--        - ë‹¨ìˆœ ë³€ì‹¬ìœ¼ë¡œ ì¸í•œ êµí™˜ ë° í™˜ë¶ˆì˜ ê²½ìš°, êµ¬ë§¤ìë‹˜ê»˜ì„œ ë°°ì†¡ë¹„ë¥¼ ë¶€ë‹´í•˜ì…”ì•¼í•©ë‹ˆë‹¤.<br>-->
<!--        - ìƒí’ˆ ìˆ˜ë ¹ì¼ë¡œë¶€í„° 7ì¼ ì´ë‚´ë¡œë§Œ êµí™˜ ë° í™˜ë¶ˆ ê°€ëŠ¥í•©ë‹ˆë‹¤. <br>-->
<!--        - ìƒí’ˆ ë¶ˆëŸ‰ ë° ì˜¤ë°°ì†¡ìœ¼ë¡œ ì¸í•œ êµí™˜ ë° í™˜ë¶ˆì€ ë°°ì†¡ë¹„ëŠ” ë³¸ì‚¬ì—ì„œ ë¶€ë‹´í•©ë‹ˆë‹¤. <br>-->
<!--        - ë³¸ì‚¬ì˜ ìƒí’ˆì´ ì•„ë‹Œ ê²½ìš° êµí™˜ ë° í™˜ë¶ˆ ë¶ˆê°€í•©ë‹ˆë‹¤.-->
<!--    </p>-->
<!--</div>-->

<!--&lt;!&ndash; í‘¸í„° &ndash;&gt;-->
<!--<div th:replace="~{common/footer :: footer}"></div>-->

<!--&lt;!&ndash; JS &ndash;&gt;-->
<!--<script th:inline="javascript">-->
<!--    const price = parseInt([[${product.price}]]);-->
<!--    let quantity = 1;-->

<!--    function updateTotal() {-->
<!--      document.getElementById('quantity').innerText = quantity;-->
<!--      document.getElementById('totalPrice').innerText = (quantity * price).toLocaleString() + 'ì›';-->
<!--    }-->

<!--    document.getElementById('plus').addEventListener('click', () => {-->
<!--      quantity++;-->
<!--      updateTotal();-->
<!--    });-->

<!--    document.getElementById('minus').addEventListener('click', () => {-->
<!--      if (quantity > 1) quantity&#45;&#45;;-->
<!--      updateTotal();-->
<!--    });-->

<!--    updateTotal();-->

<!--    document.getElementById('addToCart').addEventListener('click', async () => {-->
<!--      const selectedColor = document.getElementById('color').value;-->
<!--      const selectedSize = document.getElementById('size').value;-->

<!--      if (!selectedColor || !selectedSize) {-->
<!--        alert("ìƒ‰ìƒê³¼ ì‚¬ì´ì¦ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!");-->
<!--        return;-->
<!--      }-->

<!--      try {-->
<!--        const res = await fetch('/api/cart/add', {-->
<!--          method: 'POST',-->
<!--          headers: { 'Content-Type': 'application/json' },-->
<!--          credentials: 'include',-->
<!--          body: JSON.stringify({-->
<!--            menuId: [[${product.id}]],-->
<!--            quantity: quantity-->
<!--          })-->
<!--        });-->

<!--        if (res.ok) {-->
<!--          alert("ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤! ğŸ›’");-->
<!--        } else {-->
<!--          const result = await res.text();-->
<!--          alert("ì‹¤íŒ¨: " + result);-->
<!--        }-->
<!--      } catch (err) {-->
<!--        alert("ì—ëŸ¬ ë°œìƒ!");-->
<!--        console.error(err);-->
<!--      }-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->




<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>NOVA</title>
    <link rel="stylesheet" href="/css/style.css" />
    <style>
        .product-detail {
            max-width: 1200px;
            margin: 50px auto;
            padding: 30px;
            border: 1px solid #ddd;
            border-radius: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            justify-content: center;
          }

          .product-detail img {
            width: 400px;
            max-width: 100%;
            border-radius: 8px;
            object-fit: cover;
          }

          .product-info {
            flex: 1;
            min-width: 300px;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 15px;
          }

          .product-info h1 {
            font-size: 28px;
            margin-bottom: 10px;
          }

          .product-info .price {
            font-size: 22px;
            color: black;
            font-weight: bold;
          }

          .product-info .desc {
            font-size: 16px;
            color: #555;
            line-height: 1.5;
          }

          .option-select label {
            font-weight: bold;
            display: block;
            margin: 10px 0 5px;
          }

          .option-select select {
            padding: 8px;
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 5px;
          }

          .total,
          .cart-btn {
            margin-bottom: 10px;
            display: block;
          }

          .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
          }

          .quantity-control button {
            width: 30px;
            height: 30px;
            font-size: 18px;
            background-color: #eee;
            border: none;
            border-radius: 5px;
            cursor: pointer;
          }

          .total {
            font-weight: bold;
            font-size: 18px;
            color: #333;
            margin: 10px 0;
          }

          .cart-btn {
            background-color: black;
            color: #fff;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
          }

          .tabs {
              position: sticky;
              top: 0;
              z-index: 999;
              background: #fff;
              display: flex;
              justify-content: center;
              border-bottom: 1px solid #ddd;
              padding: 10px 0;
              margin-bottom: 20px;
            }

            .tabs a {
              padding: 10px 20px;
              text-decoration: none;
              color: #333;
              font-weight: bold;
            }

            .tabs a:hover {
              color: rgb(153, 153, 153);
            }

            .product-section {
              /*padding: 40px 10%;*/
              scroll-margin-top: 70px;
              border-bottom: 1px solid #eee;
            }

            .product-section:last-of-type {
              border-bottom: none;
            }

            /* ë¦¬ë·° í•„í„° ìŠ¤íƒ€ì¼ */
            .review-filter {
              background-color: #f9f9f9;
              padding: 20px;
              border-radius: 8px;
              margin-bottom: 30px;
            }

            .filter-row {
              display: flex;
              align-items: center;
              gap: 20px;
              flex-wrap: wrap;
            }

            .filter-item {
              display: flex;
              align-items: center;
              gap: 8px;
            }

            .filter-item label {
              font-weight: bold;
              white-space: nowrap;
            }

            .filter-item select {
              padding: 5px 10px;
              border: 1px solid #ddd;
              border-radius: 4px;
              background-color: white;
            }

            .filter-item input {
              width: 60px;
              padding: 5px 8px;
              border: 1px solid #ddd;
              border-radius: 4px;
              text-align: center;
            }

            .search-btn {
              background-color: #333;
              color: white;
              border: none;
              padding: 8px 16px;
              border-radius: 4px;
              cursor: pointer;
              font-size: 14px;
            }

            .search-btn:hover {
              background-color: #555;
            }

            /* ë¦¬ë·° ëª©ë¡ ìŠ¤íƒ€ì¼ */
            .review-list {
              display: flex;
              flex-direction: column;
              gap: 20px;
            }

            .review-item {
              padding: 20px;
              border: 1px solid #eee;
              border-radius: 8px;
              background-color: #fafafa;
            }

            .review-header {
              margin-bottom: 10px;
            }

            .reviewer-info {
              color: #666;
              font-size: 14px;
            }

            .review-content {
              line-height: 1.5;
              color: #333;
            }

            @media (max-width: 768px) {
            .product-detail {
              flex-direction: column;
              align-items: center;
            }

            .product-info {
              max-width: 100%;
            }

            .filter-row {
              flex-direction: column;
              align-items: stretch;
            }

            .filter-item {
              justify-content: space-between;
            }
        }
    </style>
</head>
<body>

<!-- í—¤ë” -->
<div th:replace="~{common/header :: header}"></div>

<!-- ìƒí’ˆ ìƒì„¸ ì¹´ë“œ -->
<div class="product-detail">
    <img th:src="${product.imageUrl}" alt="ìƒí’ˆ ì´ë¯¸ì§€" />
    <div class="product-info">
        <h1 th:text="${product.name}">ìƒí’ˆëª…</h1>
        <div class="price" th:text="${#numbers.formatInteger(product.price.intValue(), 3, 'COMMA')} + 'ì›'">ê°€ê²©</div>
        <div class="desc">
            <p th:text="${product.description}">ìƒí’ˆ ì„¤ëª…</p>
        </div>
        <div class="option-select">
            <label>ìƒ‰ìƒ:
                <select id="color">
                    <option value="">[í•„ìˆ˜] ì„ íƒ</option>
                    <option value="ë¸”ë™">ë¸”ë™</option>
                    <option value="í™”ì´íŠ¸">í™”ì´íŠ¸</option>
                </select>
            </label>
        </div>
        <div class="option-select">
            <label>ì‚¬ì´ì¦ˆ:
                <select id="size">
                    <option value="">[í•„ìˆ˜] ì„ íƒ</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                </select>
            </label>
        </div>

        <div class="quantity-control">
            <button id="minus">-</button>
            <span id="quantity">1</span>
            <button id="plus">+</button>
        </div>

        <div class="total">TOTAL: <span id="totalPrice">0ì›</span></div>
        <button id="addToCart" class="cart-btn">ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°</button>
    </div>
</div>

<!-- íƒ­ -->
<div class="tabs">
    <a href="#info">ìƒí’ˆ ì •ë³´</a>
    <a href="#review">ìƒí’ˆ í›„ê¸°</a>
    <a href="#qna">ìƒí’ˆ ë¬¸ì˜</a>
    <a href="#delivery">ë°°ì†¡/êµí™˜/í™˜ë¶ˆ</a>
</div>

<!-- ì½˜í…ì¸  -->
<div id="info" class="product-section">
    <h2>ìƒí’ˆ ì •ë³´</h2>
    <p th:text="${product.description}">ì—¬ê¸°ì— ìƒì„¸ ìƒí’ˆ ì •ë³´ê°€ ë“¤ì–´ê°‘ë‹ˆë‹¤.</p>
</div>
<div id="review" class="product-section">
    <h2>ìƒí’ˆ í›„ê¸°</h2>

    <!-- ë¦¬ë·° í•„í„° -->
    <div class="review-filter">
        <div class="filter-row">
            <div class="filter-item">
                <label>SIZE</label>
                <select id="reviewSizeFilter">
                    <option value="">ì „ì²´</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                </select>
            </div>

            <div class="filter-item">
                <label>ì„±ë³„</label>
                <select id="reviewGenderFilter">
                    <option value="">ì „ì²´</option>
                    <option value="ì—¬ì„±">ì—¬ì„±</option>
                    <option value="ë‚¨ì„±">ë‚¨ì„±</option>
                </select>
            </div>

            <div class="filter-item">
                <label>í‚¤</label>
                <input type="number" id="heightMin" placeholder="100" min="100" max="250" />
                <input type="number" id="heightMax" placeholder="200" min="100" max="250" />
            </div>

            <div class="filter-item">
                <label>ëª¸ë¬´ê²Œ</label>
                <input type="number" id="weightMin" placeholder="40" min="30" max="150" />
                <input type="number" id="weightMax" placeholder="55" min="30" max="150" />
            </div>

            <button id="searchReviews" class="search-btn">ì¡°íšŒ</button>
        </div>
    </div>

    <!-- ë¦¬ë·° ëª©ë¡ -->
    <div id="reviewList" class="review-list">
        <!-- ìƒ˜í”Œ ë¦¬ë·° ë°ì´í„° -->
        <div class="review-item" data-size="M" data-gender="ì—¬ì„±" data-height="160" data-weight="50">
            <div class="review-header">
                <span class="reviewer-info">ë‹‰ë„¤ì„ 2025.05.02 M ì—¬ì„± 160cm 50kg</span>
            </div>
            <div class="review-content">
                ì˜· í•ì´ ë§ˆìŒì— ë“¤ì–´ìš”! ì¡°ê¸ˆ ì´ê²Œ í• ì‚¬ì´ì¦ˆ ì•„ê¹Œ ì¡°ê¸ˆ ë§ˆìŒì— ì•ˆë“¤ì—ˆì–´ ì§„ì§œ ì§„ì§œ ì§„ì§œ í›„íšŒí•¨ ;;;
            </div>
        </div>

        <div class="review-item" data-size="M" data-gender="ì—¬ì„±" data-height="160" data-weight="50">
            <div class="review-header">
                <span class="reviewer-info">ë‹‰ë„¤ì„ 2025.05.02 M ì—¬ì„± 160cm 50kg</span>
            </div>
            <div class="review-content">
                ì˜· í•ì´ ë§ˆìŒì— ë“¤ì–´ìš”! ì¡°ê¸ˆ ì´ê²Œ í• ì‚¬ì´ì¦ˆ ì•„ê¹Œ ì¡°ê¸ˆ ë§ˆìŒì— ì•ˆë“¤ì—ˆì–´ ì§„ì§œ ì§„ì§œ ì§„ì§œ í›„íšŒí•¨ ;;;
            </div>
        </div>

        <div class="review-item" data-size="L" data-gender="ë‚¨ì„±" data-height="180" data-weight="75">
            <div class="review-header">
                <span class="reviewer-info">ë‹‰ë„¤ì„ 2025.05.02 L ë‚¨ì„± 180cm 75kg</span>
            </div>
            <div class="review-content">
                ì‚¬ì´ì¦ˆê°€ ë”± ë§ì•„ìš”. í’ˆì§ˆë„ ì¢‹ê³  ë§Œì¡±í•©ë‹ˆë‹¤!
            </div>
        </div>

        <div class="review-item" data-size="S" data-gender="ì—¬ì„±" data-height="155" data-weight="45">
            <div class="review-header">
                <span class="reviewer-info">ë‹‰ë„¤ì„ 2025.05.02 S ì—¬ì„± 155cm 45kg</span>
            </div>
            <div class="review-content">
                ì‘ì€ ì‚¬ì´ì¦ˆë„ ì˜ ë§ë„¤ìš”. ë””ìì¸ì´ ì˜ˆë»ìš”!
            </div>
        </div>

        <div class="review-item" data-size="XL" data-gender="ë‚¨ì„±" data-height="185" data-weight="90">
            <div class="review-header">
                <span class="reviewer-info">ë‹‰ë„¤ì„ 2025.05.02 XL ë‚¨ì„± 185cm 90kg</span>
            </div>
            <div class="review-content">
                í° ì‚¬ì´ì¦ˆë¼ì„œ ê±±ì •í–ˆëŠ”ë° í•ì´ ì¢‹ë„¤ìš”!
            </div>
        </div>
    </div>
</div>
<div id="qna" class="product-section">
    <h2>ìƒí’ˆ ë¬¸ì˜</h2>
    <p>ë¬¸ì˜ ë‚´ìš©ì„ ì—¬ê¸°ì— ì‘ì„±í•˜ê±°ë‚˜ í‘œì‹œí•©ë‹ˆë‹¤.</p>
</div>
<div id="delivery" class="product-section">
    <h2>ë°°ì†¡/êµí™˜/í™˜ë¶ˆ ì•ˆë‚´</h2>
    <h4>DELIVERY</h4>
    <p>
        - ê²°ì œì¼ ì´í›„ 2~3ì¼ ì´ë‚´ ë°œì†¡í•©ë‹ˆë‹¤. (ì£¼ë§, ê³µíœ´ì¼ ì œì™¸) <br>
        - ì¼ë¶€ ë„ì„œ/ì‚°ê°„ ì§€ì—­ì—ëŠ” ë°°ì†¡ë¹„ ì¶”ê°€ ë° ë°°ì†¡ ì§€ì—°ì´ ë°œìƒ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>
    <h4>EXCHANGE & REFUND</h4>
    <p>
        - êµ¬ë§¤ìì˜ ë¶€ì£¼ì˜ë¡œ ì¸í•œ ìƒí’ˆ íŒŒì†ì€ êµí™˜ ë° í™˜ë¶ˆ ë¶ˆê°€í•©ë‹ˆë‹¤.<br>
        - ë¼ë²¨ ì œê±° ì‹œ êµí™˜ ë° í™˜ë¶ˆ ë¶ˆê°€í•©ë‹ˆë‹¤. <br>
        - ë‹¨ìˆœ ë³€ì‹¬ìœ¼ë¡œ ì¸í•œ êµí™˜ ë° í™˜ë¶ˆì˜ ê²½ìš°, êµ¬ë§¤ìë‹˜ê»˜ì„œ ë°°ì†¡ë¹„ë¥¼ ë¶€ë‹´í•˜ì…”ì•¼í•©ë‹ˆë‹¤.<br>
        - ìƒí’ˆ ìˆ˜ë ¹ì¼ë¡œë¶€í„° 7ì¼ ì´ë‚´ë¡œë§Œ êµí™˜ ë° í™˜ë¶ˆ ê°€ëŠ¥í•©ë‹ˆë‹¤. <br>
        - ìƒí’ˆ ë¶ˆëŸ‰ ë° ì˜¤ë°°ì†¡ìœ¼ë¡œ ì¸í•œ êµí™˜ ë° í™˜ë¶ˆì€ ë°°ì†¡ë¹„ëŠ” ë³¸ì‚¬ì—ì„œ ë¶€ë‹´í•©ë‹ˆë‹¤. <br>
        - ë³¸ì‚¬ì˜ ìƒí’ˆì´ ì•„ë‹Œ ê²½ìš° êµí™˜ ë° í™˜ë¶ˆ ë¶ˆê°€í•©ë‹ˆë‹¤.
    </p>
</div>

<!-- í‘¸í„° -->
<div th:replace="~{common/footer :: footer}"></div>

<!-- JS -->
<script th:inline="javascript">
    const price = parseInt([[${product.price}]]);
    let quantity = 1;

    function updateTotal() {
      document.getElementById('quantity').innerText = quantity;
      document.getElementById('totalPrice').innerText = (quantity * price).toLocaleString() + 'ì›';
    }

    document.getElementById('plus').addEventListener('click', () => {
      quantity++;
      updateTotal();
    });

    document.getElementById('minus').addEventListener('click', () => {
      if (quantity > 1) quantity--;
      updateTotal();
    });

    updateTotal();

    document.getElementById('addToCart').addEventListener('click', async () => {
      const selectedColor = document.getElementById('color').value;
      const selectedSize = document.getElementById('size').value;

      if (!selectedColor || !selectedSize) {
        alert("ìƒ‰ìƒê³¼ ì‚¬ì´ì¦ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!");
        return;
      }

      try {
        const res = await fetch('/api/cart/add', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          credentials: 'include',
          body: JSON.stringify({
            menuId: [[${product.id}]],
            quantity: quantity
          })
        });

        if (res.ok) {
          alert("ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤! ğŸ›’");
        } else {
          const result = await res.text();
          alert("ì‹¤íŒ¨: " + result);
        }
      } catch (err) {
        alert("ì—ëŸ¬ ë°œìƒ!");
        console.error(err);
      }
    });

    // ë¦¬ë·° í•„í„°ë§ ê¸°ëŠ¥
    document.getElementById('searchReviews').addEventListener('click', () => {
      const sizeFilter = document.getElementById('reviewSizeFilter').value;
      const genderFilter = document.getElementById('reviewGenderFilter').value;
      const heightMin = parseInt(document.getElementById('heightMin').value) || 0;
      const heightMax = parseInt(document.getElementById('heightMax').value) || 300;
      const weightMin = parseInt(document.getElementById('weightMin').value) || 0;
      const weightMax = parseInt(document.getElementById('weightMax').value) || 200;

      const reviewItems = document.querySelectorAll('.review-item');

      reviewItems.forEach(item => {
        const itemSize = item.getAttribute('data-size');
        const itemGender = item.getAttribute('data-gender');
        const itemHeight = parseInt(item.getAttribute('data-height'));
        const itemWeight = parseInt(item.getAttribute('data-weight'));

        let showItem = true;

        // ì‚¬ì´ì¦ˆ í•„í„°ë§
        if (sizeFilter && itemSize !== sizeFilter) {
          showItem = false;
        }

        // ì„±ë³„ í•„í„°ë§
        if (genderFilter && itemGender !== genderFilter) {
          showItem = false;
        }

        // í‚¤ í•„í„°ë§ (ë²”ìœ„ ê²€ì‚¬)
        if (heightMin > 0 && itemHeight < heightMin) {
          showItem = false;
        }
        if (heightMax < 300 && itemHeight > heightMax) {
          showItem = false;
        }

        // ëª¸ë¬´ê²Œ í•„í„°ë§ (ë²”ìœ„ ê²€ì‚¬)
        if (weightMin > 0 && itemWeight < weightMin) {
          showItem = false;
        }
        if (weightMax < 200 && itemWeight > weightMax) {
          showItem = false;
        }

        // ê²°ê³¼ì— ë”°ë¼ í‘œì‹œ/ìˆ¨ê¹€
        item.style.display = showItem ? 'block' : 'none';
      });
    });
</script>

</body>
</html>